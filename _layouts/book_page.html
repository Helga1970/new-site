---
layout: default
---

<div class="book-page-wrapper" style="max-width: 1200px; margin: 0 auto; padding: 40px 20px; display: flex; gap: 40px; font-family: sans-serif;">
  
  <div class="book-main-content" style="flex: 2;">
    <img src="{{ page.book_cover }}" alt="{{ page.book_title }}" 
         style="float: left; width: 280px; margin: 0 25px 20px 0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">

    <h1 style="margin: 0 0 10px 0; font-size: 2.2rem; color: #333;">{{ page.book_title }}</h1>
    <p style="color: #888; font-style: italic; margin-bottom: 25px;">{{ page.book_author }}</p>
      
    <div class="book-description" style="line-height: 1.6; color: #444; font-size: 1.1rem; text-align: justify;">
      {{ content }}
    </div>

    <div style="margin-top: 30px; clear: both;">
      <a href="{{ page.book_link }}" target="_blank" 
         style="display: inline-block; background: #fa8569; color: #fff; text-decoration: none; padding: 15px 35px; border-radius: 5px; font-weight: bold; text-transform: uppercase;">
        Открыть книгу
      </a>
    </div>
  </div>

  <div class="book-sidebar" style="flex: 1; border-left: 1px solid #eee; padding-left: 30px; min-width: 300px;">
    {% assign book_recipes = site.recipes | where: "book_slug", page.book_slug %}
    
    <h3 style="margin-top: 0; font-size: 1.4rem; color: #333; border-bottom: 2px solid #fa8569; padding-bottom: 10px; display: flex; justify-content: space-between; align-items: center;">
      Рецепты из книги
      {% if book_recipes.size > 0 %}
        <span style="background: #fa8569; color: #fff; font-size: 0.9rem; padding: 2px 10px; border-radius: 20px;">{{ book_recipes.size }}</span>
      {% endif %}
    </h3>
    
    <div class="mini-recipes-list" style="margin-top: 20px;">
      {% for recipe in book_recipes %}
        <a href="{{ recipe.url }}" style="display: flex; align-items: center; text-decoration: none; color: #333; margin-bottom: 15px; transition: 0.3s;" class="recipe-item">
          <img src="{{ recipe.image }}" style="width: 70px; height: 70px; object-fit: cover; border-radius: 6px; margin-right: 15px;">
          <span style="font-size: 0.95rem; font-weight: 500; line-height: 1.3;">{{ recipe.title }}</span>
        </a>
      {% else %}
        <p style="color: #999; font-style: italic;">Рецепты скоро появятся...</p>
      {% endfor %}
    </div>
  </div>

</div>

<style>
  .recipe-item:hover { opacity: 0.7; transform: translateX(5px); }
  @media (max-width: 900px) {
    .book-page-wrapper { flex-direction: column; }
    .book-sidebar { border-left: none; padding-left: 0; border-top: 1px solid #eee; padding-top: 30px; }
  }
</style>
